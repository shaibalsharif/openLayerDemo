{"ast":null,"code":"/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { DEVICE_PIXEL_RATIO, FIREFOX } from '../has.js';\nimport { all, always, focusWithTabindex } from '../events/condition.js';\nimport { clamp } from '../math.js';\n/**\n * @typedef {'trackpad' | 'wheel'} Mode\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\n\nclass MouseWheelZoom extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n    super(\n    /** @type {import(\"./Interaction.js\").InteractionOptions} */\n    options);\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this.totalDelta_ = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this.lastDelta_ = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this.constrainResolution_ = options.constrainResolution !== undefined ? options.constrainResolution : false;\n    const condition = options.condition ? options.condition : always;\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    this.condition_ = options.onFocusOnly ? all(focusWithTabindex, condition) : condition;\n    /**\n     * @private\n     * @type {?import(\"../coordinate.js\").Coordinate}\n     */\n\n    this.lastAnchor_ = null;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.startTime_ = undefined;\n    /**\n     * @private\n     * @type {?}\n     */\n\n    this.timeoutId_;\n    /**\n     * @private\n     * @type {Mode|undefined}\n     */\n\n    this.mode_ = undefined;\n    /**\n     * Trackpad events separated by this delay will be considered separate\n     * interactions.\n     * @type {number}\n     */\n\n    this.trackpadEventGap_ = 400;\n    /**\n     * @type {?}\n     */\n\n    this.trackpadTimeoutId_;\n    /**\n     * The number of delta values per zoom level\n     * @private\n     * @type {number}\n     */\n\n    this.deltaPerZoom_ = 300;\n  }\n  /**\n   * @private\n   */\n\n\n  endInteraction_() {\n    this.trackpadTimeoutId_ = undefined;\n    const map = this.getMap();\n\n    if (!map) {\n      return;\n    }\n\n    const view = map.getView();\n    view.endInteraction(undefined, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_);\n  }\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n   * zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   */\n\n\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n\n    const type = mapBrowserEvent.type;\n\n    if (type !== EventType.WHEEL) {\n      return true;\n    }\n\n    const map = mapBrowserEvent.map;\n    const wheelEvent =\n    /** @type {WheelEvent} */\n    mapBrowserEvent.originalEvent;\n    wheelEvent.preventDefault();\n\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.coordinate;\n    } // Delta normalisation inspired by\n    // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n\n\n    let delta;\n\n    if (mapBrowserEvent.type == EventType.WHEEL) {\n      delta = wheelEvent.deltaY;\n\n      if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n        delta /= DEVICE_PIXEL_RATIO;\n      }\n\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    }\n\n    if (delta === 0) {\n      return false;\n    } else {\n      this.lastDelta_ = delta;\n    }\n\n    const now = Date.now();\n\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ? 'trackpad' : 'wheel';\n    }\n\n    const view = map.getView();\n\n    if (this.mode_ === 'trackpad' && !(view.getConstrainResolution() || this.constrainResolution_)) {\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n\n        view.beginInteraction();\n      }\n\n      this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_);\n      view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n      this.startTime_ = now;\n      return false;\n    }\n\n    this.totalDelta_ += delta;\n    const timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n    return false;\n  }\n  /**\n   * @private\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n\n\n  handleWheelZoom_(map) {\n    const view = map.getView();\n\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n\n    let delta = -clamp(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;\n\n    if (view.getConstrainResolution() || this.constrainResolution_) {\n      // view has a zoom constraint, zoom by 1\n      delta = delta ? delta > 0 ? 1 : -1 : 0;\n    }\n\n    zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n    this.mode_ = undefined;\n    this.totalDelta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  }\n  /**\n   * Enable or disable using the mouse's location as an anchor when zooming\n   * @param {boolean} useAnchor true to zoom to the mouse's location, false\n   * to zoom to the center of the map\n   * @api\n   */\n\n\n  setMouseAnchor(useAnchor) {\n    this.useAnchor_ = useAnchor;\n\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  }\n\n}\n\nexport default MouseWheelZoom;","map":{"version":3,"names":["EventType","Interaction","zoomByDelta","DEVICE_PIXEL_RATIO","FIREFOX","all","always","focusWithTabindex","clamp","MouseWheelZoom","constructor","options","totalDelta_","lastDelta_","maxDelta_","maxDelta","undefined","duration_","duration","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","constrainResolution","condition","condition_","onFocusOnly","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","deltaPerZoom_","endInteraction_","map","getMap","view","getView","endInteraction","handleEvent","mapBrowserEvent","type","WHEEL","wheelEvent","originalEvent","preventDefault","coordinate","delta","deltaY","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","now","Date","Math","abs","getConstrainResolution","clearTimeout","getAnimating","cancelAnimations","beginInteraction","setTimeout","bind","adjustZoom","timeLeft","max","handleWheelZoom_","setMouseAnchor"],"sources":["D:/Work/Learning/demo/node_modules/ol/interaction/MouseWheelZoom.js"],"sourcesContent":["/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\nimport {DEVICE_PIXEL_RATIO, FIREFOX} from '../has.js';\nimport {all, always, focusWithTabindex} from '../events/condition.js';\nimport {clamp} from '../math.js';\n\n/**\n * @typedef {'trackpad' | 'wheel'} Mode\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nclass MouseWheelZoom extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    super(\n      /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)\n    );\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.totalDelta_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.lastDelta_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.useAnchor_ =\n      options.useAnchor !== undefined ? options.useAnchor : true;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.constrainResolution_ =\n      options.constrainResolution !== undefined\n        ? options.constrainResolution\n        : false;\n\n    const condition = options.condition ? options.condition : always;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.onFocusOnly\n      ? all(focusWithTabindex, condition)\n      : condition;\n\n    /**\n     * @private\n     * @type {?import(\"../coordinate.js\").Coordinate}\n     */\n    this.lastAnchor_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.startTime_ = undefined;\n\n    /**\n     * @private\n     * @type {?}\n     */\n    this.timeoutId_;\n\n    /**\n     * @private\n     * @type {Mode|undefined}\n     */\n    this.mode_ = undefined;\n\n    /**\n     * Trackpad events separated by this delay will be considered separate\n     * interactions.\n     * @type {number}\n     */\n    this.trackpadEventGap_ = 400;\n\n    /**\n     * @type {?}\n     */\n    this.trackpadTimeoutId_;\n\n    /**\n     * The number of delta values per zoom level\n     * @private\n     * @type {number}\n     */\n    this.deltaPerZoom_ = 300;\n  }\n\n  /**\n   * @private\n   */\n  endInteraction_() {\n    this.trackpadTimeoutId_ = undefined;\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    const view = map.getView();\n    view.endInteraction(\n      undefined,\n      this.lastDelta_ ? (this.lastDelta_ > 0 ? 1 : -1) : 0,\n      this.lastAnchor_\n    );\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n   * zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   */\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    const type = mapBrowserEvent.type;\n    if (type !== EventType.WHEEL) {\n      return true;\n    }\n\n    const map = mapBrowserEvent.map;\n    const wheelEvent = /** @type {WheelEvent} */ (\n      mapBrowserEvent.originalEvent\n    );\n    wheelEvent.preventDefault();\n\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.coordinate;\n    }\n\n    // Delta normalisation inspired by\n    // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n    let delta;\n    if (mapBrowserEvent.type == EventType.WHEEL) {\n      delta = wheelEvent.deltaY;\n      if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n        delta /= DEVICE_PIXEL_RATIO;\n      }\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    }\n\n    if (delta === 0) {\n      return false;\n    } else {\n      this.lastDelta_ = delta;\n    }\n\n    const now = Date.now();\n\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ? 'trackpad' : 'wheel';\n    }\n\n    const view = map.getView();\n    if (\n      this.mode_ === 'trackpad' &&\n      !(view.getConstrainResolution() || this.constrainResolution_)\n    ) {\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n        view.beginInteraction();\n      }\n      this.trackpadTimeoutId_ = setTimeout(\n        this.endInteraction_.bind(this),\n        this.timeout_\n      );\n      view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n      this.startTime_ = now;\n      return false;\n    }\n\n    this.totalDelta_ += delta;\n\n    const timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(\n      this.handleWheelZoom_.bind(this, map),\n      timeLeft\n    );\n\n    return false;\n  }\n\n  /**\n   * @private\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n  handleWheelZoom_(map) {\n    const view = map.getView();\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n    let delta =\n      -clamp(\n        this.totalDelta_,\n        -this.maxDelta_ * this.deltaPerZoom_,\n        this.maxDelta_ * this.deltaPerZoom_\n      ) / this.deltaPerZoom_;\n    if (view.getConstrainResolution() || this.constrainResolution_) {\n      // view has a zoom constraint, zoom by 1\n      delta = delta ? (delta > 0 ? 1 : -1) : 0;\n    }\n    zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n\n    this.mode_ = undefined;\n    this.totalDelta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  }\n\n  /**\n   * Enable or disable using the mouse's location as an anchor when zooming\n   * @param {boolean} useAnchor true to zoom to the mouse's location, false\n   * to zoom to the center of the map\n   * @api\n   */\n  setMouseAnchor(useAnchor) {\n    this.useAnchor_ = useAnchor;\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  }\n}\n\nexport default MouseWheelZoom;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}