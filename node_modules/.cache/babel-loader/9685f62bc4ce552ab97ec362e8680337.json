{"ast":null,"code":"/**\n * @module ol/render/Box\n */\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\n\nclass RenderBox extends Disposable {\n  /**\n   * @param {string} className CSS class name.\n   */\n  constructor(className) {\n    super();\n    /**\n     * @type {import(\"../geom/Polygon.js\").default}\n     * @private\n     */\n\n    this.geometry_ = null;\n    /**\n     * @type {HTMLDivElement}\n     * @private\n     */\n\n    this.element_ = document.createElement('div');\n    this.element_.style.position = 'absolute';\n    this.element_.style.pointerEvents = 'auto';\n    this.element_.className = 'ol-box ' + className;\n    /**\n     * @private\n     * @type {import(\"../Map.js\").default|null}\n     */\n\n    this.map_ = null;\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n\n    this.startPixel_ = null;\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n\n    this.endPixel_ = null;\n  }\n  /**\n   * Clean up.\n   */\n\n\n  disposeInternal() {\n    this.setMap(null);\n  }\n  /**\n   * @private\n   */\n\n\n  render_() {\n    const startPixel = this.startPixel_;\n    const endPixel = this.endPixel_;\n    const px = 'px';\n    const style = this.element_.style;\n    style.left = Math.min(startPixel[0], endPixel[0]) + px;\n    style.top = Math.min(startPixel[1], endPixel[1]) + px;\n    style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n    style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n  }\n  /**\n   * @param {import(\"../Map.js\").default|null} map Map.\n   */\n\n\n  setMap(map) {\n    if (this.map_) {\n      this.map_.getOverlayContainer().removeChild(this.element_);\n      const style = this.element_.style;\n      style.left = 'inherit';\n      style.top = 'inherit';\n      style.width = 'inherit';\n      style.height = 'inherit';\n    }\n\n    this.map_ = map;\n\n    if (this.map_) {\n      this.map_.getOverlayContainer().appendChild(this.element_);\n    }\n  }\n  /**\n   * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n   * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n   */\n\n\n  setPixels(startPixel, endPixel) {\n    this.startPixel_ = startPixel;\n    this.endPixel_ = endPixel;\n    this.createOrUpdateGeometry();\n    this.render_();\n  }\n  /**\n   * Creates or updates the cached geometry.\n   */\n\n\n  createOrUpdateGeometry() {\n    const startPixel = this.startPixel_;\n    const endPixel = this.endPixel_;\n    const pixels = [startPixel, [startPixel[0], endPixel[1]], endPixel, [endPixel[0], startPixel[1]]];\n    const coordinates = pixels.map(this.map_.getCoordinateFromPixelInternal, this.map_); // close the polygon\n\n    coordinates[4] = coordinates[0].slice();\n\n    if (!this.geometry_) {\n      this.geometry_ = new Polygon([coordinates]);\n    } else {\n      this.geometry_.setCoordinates([coordinates]);\n    }\n  }\n  /**\n   * @return {import(\"../geom/Polygon.js\").default} Geometry.\n   */\n\n\n  getGeometry() {\n    return this.geometry_;\n  }\n\n}\n\nexport default RenderBox;","map":{"version":3,"names":["Disposable","Polygon","RenderBox","constructor","className","geometry_","element_","document","createElement","style","position","pointerEvents","map_","startPixel_","endPixel_","disposeInternal","setMap","render_","startPixel","endPixel","px","left","Math","min","top","width","abs","height","map","getOverlayContainer","removeChild","appendChild","setPixels","createOrUpdateGeometry","pixels","coordinates","getCoordinateFromPixelInternal","slice","setCoordinates","getGeometry"],"sources":["D:/Work/Learning/demo/node_modules/ol/render/Box.js"],"sourcesContent":["/**\n * @module ol/render/Box\n */\n\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\n\nclass RenderBox extends Disposable {\n  /**\n   * @param {string} className CSS class name.\n   */\n  constructor(className) {\n    super();\n\n    /**\n     * @type {import(\"../geom/Polygon.js\").default}\n     * @private\n     */\n    this.geometry_ = null;\n\n    /**\n     * @type {HTMLDivElement}\n     * @private\n     */\n    this.element_ = document.createElement('div');\n    this.element_.style.position = 'absolute';\n    this.element_.style.pointerEvents = 'auto';\n    this.element_.className = 'ol-box ' + className;\n\n    /**\n     * @private\n     * @type {import(\"../Map.js\").default|null}\n     */\n    this.map_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n    this.startPixel_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n    this.endPixel_ = null;\n  }\n\n  /**\n   * Clean up.\n   */\n  disposeInternal() {\n    this.setMap(null);\n  }\n\n  /**\n   * @private\n   */\n  render_() {\n    const startPixel = this.startPixel_;\n    const endPixel = this.endPixel_;\n    const px = 'px';\n    const style = this.element_.style;\n    style.left = Math.min(startPixel[0], endPixel[0]) + px;\n    style.top = Math.min(startPixel[1], endPixel[1]) + px;\n    style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n    style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n  }\n\n  /**\n   * @param {import(\"../Map.js\").default|null} map Map.\n   */\n  setMap(map) {\n    if (this.map_) {\n      this.map_.getOverlayContainer().removeChild(this.element_);\n      const style = this.element_.style;\n      style.left = 'inherit';\n      style.top = 'inherit';\n      style.width = 'inherit';\n      style.height = 'inherit';\n    }\n    this.map_ = map;\n    if (this.map_) {\n      this.map_.getOverlayContainer().appendChild(this.element_);\n    }\n  }\n\n  /**\n   * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n   * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n   */\n  setPixels(startPixel, endPixel) {\n    this.startPixel_ = startPixel;\n    this.endPixel_ = endPixel;\n    this.createOrUpdateGeometry();\n    this.render_();\n  }\n\n  /**\n   * Creates or updates the cached geometry.\n   */\n  createOrUpdateGeometry() {\n    const startPixel = this.startPixel_;\n    const endPixel = this.endPixel_;\n    const pixels = [\n      startPixel,\n      [startPixel[0], endPixel[1]],\n      endPixel,\n      [endPixel[0], startPixel[1]],\n    ];\n    const coordinates = pixels.map(\n      this.map_.getCoordinateFromPixelInternal,\n      this.map_\n    );\n    // close the polygon\n    coordinates[4] = coordinates[0].slice();\n    if (!this.geometry_) {\n      this.geometry_ = new Polygon([coordinates]);\n    } else {\n      this.geometry_.setCoordinates([coordinates]);\n    }\n  }\n\n  /**\n   * @return {import(\"../geom/Polygon.js\").default} Geometry.\n   */\n  getGeometry() {\n    return this.geometry_;\n  }\n}\n\nexport default RenderBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}